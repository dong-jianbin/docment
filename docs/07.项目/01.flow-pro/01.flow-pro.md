---
title: flow-pro
date: 2021-11-17 09:57:31
permalink: /pages/3ceacd/
categories:
  - 项目
  - flow-pro
tags:
  - 
---

## 开发列表

- [x] 选择分组

  * **维护流程分组** 

    1. 假勤管理

    2. 人事管理

    3. 财务管理

    4. 业务管理

    5. 行政管理

    6. 法务管理

    7. 其他

       ![流程分组维护](https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/img/20211117103351.png)

  * **选择流程分组，通过字典提取选择**

    ```javascript
    import {ajaxGetDictItems} from '@/api/api'
    
    //根据字典Code, 初始化字典数组
    ajaxGetDictItems('bpm_process_type', null).then((res) => {
      if (res.success) {
        this.flowGroupOptions = res.result;
      }
    })
    ```

- [x] 去掉监听

- [x] 谁可以发起审批

  ```javascript
  <j-select-role  v-model="formData.initiator" placeholder="不选择则所有人可用" v-decorator="[ 'roles', {initialValue:formData.initiator, rules: []}]"/>
  ```

- [x] 流程基本信息改成来源基础设置

  在侧换到tab页到流程图页时，获取基本设置的数据，放到vuex中,

  approver.vue

  `import {mapMutations} from 'vuex'`

  `    ...mapMutations(['setBaseInfo']),`    

  

  ```javascript
    methods: {
      ...mapMutations(['setBaseInfo']),
      changeSteps(item) {
        this.activeStep = item.key;
        if (this.activeStep === 'processDesign') {
           let basic = this.$refs.basicSetting.formData
           basic.flowGroupName = this.$refs.basicSetting.flowGroupName
           this.setBaseInfo(basic)
        }
      },
  ```

  

  获取vuex中的基本信息放到页面信息中

  process.vue

  ```javascript
    created() {
      this.formData = commonParse(this.element)
      let baseInfo = this.$store.state.flowable.baseInfo
      this.formData.processCategory = baseInfo.flowGroupName
      this.formData.id = baseInfo.flowName
      this.formData.name = baseInfo.flowName
      this.formData.documentation = baseInfo.flowRemark
    },
  ```

  

- [ ] 候选人员

- [ ] 对接后台

- [ ] 

