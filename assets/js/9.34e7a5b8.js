(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{325:function(s,a,n){"use strict";n.r(a);var e=n(3),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"freeswitch资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#freeswitch资源"}},[s._v("#")]),s._v(" freeswitch资源")]),s._v(" "),a("h3",{attrs:{id:"_1-官方网址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-官方网址"}},[s._v("#")]),s._v(" 1.官方网址")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/signalwire/freeswitch",target:"_blank",rel:"noopener noreferrer"}},[s._v("github地址"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://freeswitch.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"http://www.freeswitch.net.cn/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("中文网"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://freeswitch.org/confluence/",target:"_blank",rel:"noopener noreferrer"}},[s._v("API"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_2-第三方项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-第三方项目"}},[s._v("#")]),s._v(" 2.第三方项目")]),s._v(" "),a("ul",[a("li",[s._v("服务端")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/fusionpbx/fusionpbx",target:"_blank",rel:"noopener noreferrer"}},[s._v("Freeswitch pbx 页面管理"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nwaycn/FSGui",target:"_blank",rel:"noopener noreferrer"}},[s._v("FSGui针对FreeSWITCH开发的GUI及更底层的PBX功能扩展"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://note.youdao.com/ynoteshare/index.html?id=2e1e528374b3bebff038699d30f4feb2&type=note&_time=1640592229290",target:"_blank",rel:"noopener noreferrer"}},[s._v("FSGui操作手册"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"http://freeswitch.net.cn/100.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("FSGui介绍"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/JoneXiong/YouPBX",target:"_blank",rel:"noopener noreferrer"}},[s._v("YouPBX 是一个强大 FreeSwift (电话软交换系统) 的管理GUI系统"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/flymote/FSlmx",target:"_blank",rel:"noopener noreferrer"}},[s._v("FreeSWITCH GUI 简体中文GUI for PHP (UTF8)"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("客户端")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/ricardojlrufino/webphone-sip",target:"_blank",rel:"noopener noreferrer"}},[s._v("WebRTC SIP based VoIP client software (+chrome extension) 客户端"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/BelledonneCommunications/linphone-android",target:"_blank",rel:"noopener noreferrer"}},[s._v("Sip app 客户端"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/gmaruzz/saraphone",target:"_blank",rel:"noopener noreferrer"}},[s._v("webrtc saraphone  客户端"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("呼叫中心")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/srsman/lemon",target:"_blank",rel:"noopener noreferrer"}},[s._v("lemon 是基于 FreeSWITCH 的开源呼叫中心系统，是 tenjin 3.0 的升级版， 并且正式更名为 lemon"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/dong2/freeswitch2",target:"_blank",rel:"noopener noreferrer"}},[s._v("FreeSWITCH定制"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/github-muzilong/freeswitch-gui",target:"_blank",rel:"noopener noreferrer"}},[s._v("后台管理系统包含用户角色权限管理，客户CRM，订单财务，群叫功能，可以实现一个中小型的呼叫中心系统"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("智能呼叫中心，机器人")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/wkyo/freeswitch-chatbot",target:"_blank",rel:"noopener noreferrer"}},[s._v("FreeSWITCH、ASR、TTS以及文本聊天机器人简易集成"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/reSipWebRTC/UniMRCP-with-freeswitch",target:"_blank",rel:"noopener noreferrer"}},[s._v("对接UniMRCP，讯飞语音识别，FreeSWITCH。用WebRTC AVD模块优化UniMRCP的VAD功能"),a("OutboundLink")],1)]),s._v(" "),a("ul",[a("li",[s._v("开发，架构")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/digitallinx/vBilling",target:"_blank",rel:"noopener noreferrer"}},[s._v("计费"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/nwaycn/FreeSwitch-Train-doc/blob/master/%E4%BC%81%E4%B8%9A%E9%80%9A%E4%BF%A1%E4%B8%8EFreeSwitchV1.2.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("企业通信与FreeSwitchV1.2.pdf"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/yjmyzz/p/freeswitch-esl-java-client-turorial.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Java esl api 文档"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/a768359a81b5",target:"_blank",rel:"noopener noreferrer"}},[s._v("高可用架构"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/rts-cn/zh",target:"_blank",rel:"noopener noreferrer"}},[s._v("FreeSWITCH中文语音包"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/rts-cn/awesome-freeswitch",target:"_blank",rel:"noopener noreferrer"}},[s._v("FreeSWITCH资源精选"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"主机环境设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主机环境设置"}},[s._v("#")]),s._v(" 主机环境设置")]),s._v(" "),a("h3",{attrs:{id:"_1-关闭selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-关闭selinux"}},[s._v("#")]),s._v(" 1. 关闭selinux")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/selinux "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#SELINUX=disabled")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2-关闭防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-关闭防火墙"}},[s._v("#")]),s._v(" 2.关闭防火墙")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl stop firewalld\nsystemctl disable firewalld\nsystemctl status firewalld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-升级操作系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-升级操作系统"}},[s._v("#")]),s._v(" 3.升级操作系统")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum update -y\nyum upgrade -y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_4-安装对应依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装对应依赖"}},[s._v("#")]),s._v(" 4.安装对应依赖")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" alsa-lib-devel autoconf automake bison broadvoice-devel "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" curl-devel libdb4-devel e2fsprogs-devel erlang flite-devel g722_1-devel gcc-c++ gdbm-devel gnutls-devel ilbc2-devel ldns-devel libcodec2-devel libcurl-devel libedit-devel libidn-devel libjpeg-devel libmemcached-devel libogg-devel libsilk-devel libsndfile-devel libtheora-devel libtiff-devel libtool libuuid-devel libvorbis-devel libxml2-devel lua-devel lzo-devel mongo-c-driver-devel ncurses-devel net-snmp-devel openssl-devel opus-devel pcre-devel perl perl-ExtUtils-Embed pkgconfig portaudio-devel postgresql-devel python-devel python-devel soundtouch-devel speex-devel sqlite-devel unbound-devel unixODBC-devel "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" yasm zlib-devel libshout-devel libmpg123-devel lame-devel\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("ol",[a("li",[s._v("如下软件包找不到源头")])]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("broadvoice-devel")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("libdb4-devel")]),s._v(" available.")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("erlang")]),s._v(" available.")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("g722_1-devel")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("libcodec2-devel")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("libsilk-devel")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("mongo-c-driver-devel")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("portaudio-devel")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("yasm")]),s._v(" available")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("lame-devel")]),s._v(" available")]),s._v(" "),a("hr"),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("从企业版Linux库配置包中安装扩展包")])]),s._v(" "),a("p",[s._v("sudo yum install epel-release ,然后重新安装一遍")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("手工rpm安装(上一步仍然有部分包不成功)")])]),s._v(" "),a("p",[s._v("从https://rpm.pkgs.org/ 下载 rpm包，然后安装")]),s._v(" "),a("p",[s._v("No package "),a("strong",[s._v("broadvoice-devel")]),s._v(" available")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/broadvoice-devel-0.1.0-1.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/broadvoice-0.1.0-1.el7.centos.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh broadvoice-0.1.0-1.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh broadvoice-devel-0.1.0-1.el7.centos.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("No package "),a("strong",[s._v("g722_1-devel")]),s._v(" available")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/g722_1-devel-0.2.0-1.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/g722_1-0.2.0-1.el7.centos.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh g722_1-0.2.0-1.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh g722_1-devel-0.2.0-1.el7.centos.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("No package "),a("strong",[s._v("ilbc2-devel")]),s._v(" available.")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/ilbc2-devel-0.0.1-2.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/ilbc2-0.0.1-2.el7.centos.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh ilbc2-0.0.1-2.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh ilbc2-devel-0.0.1-2.el7.centos.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("blockquote",[a("p",[s._v("No package "),a("strong",[s._v("libcodec2-devel")]),s._v(" available")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/libcodec2-2.59-2.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/libcodec2-devel-2.59-2.el7.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh libcodec2-2.59-2.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh libcodec2-devel-2.59-2.el7.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("No package "),a("strong",[s._v("libsilk-devel")]),s._v(" available")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/libsilk-1.0.8-1.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://repo.okay.com.mx/centos/7/x86_64/release/libsilk-devel-1.0.8-1.el7.centos.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh libsilk-1.0.8-1.el7.centos.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh libsilk-devel-1.0.8-1.el7.centos.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"_5-安装cmake"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-安装cmake"}},[s._v("#")]),s._v(" 5. 安装cmake")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum remove cmake "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#卸载yum安装的版本，若无安装则忽略")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://cmake.org/files/v3.14/cmake-3.14.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" vzxf cmake-3.14.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" cmake-3.14.0\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"_6-安装libks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-安装libks"}},[s._v("#")]),s._v(" 6. 安装libks")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libatomic\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/signalwire/libks.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" libks\ncmake "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"_7-安装signalwire-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-安装signalwire-c"}},[s._v("#")]),s._v(" 7. 安装signalwire-c")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/signalwire/signalwire-c.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" signalwire-c/\ncmake "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sf /usr/local/lib64/pkgconfig/signalwire_client.pc /usr/lib64/pkgconfig/signalwire_client.pc\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"_8-编译x264"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-编译x264"}},[s._v("#")]),s._v(" 8. 编译x264")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://www.nasm.us/pub/nasm/releasebuilds/2.14/nasm-2.14.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nasm-2.14.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nasm-2.14\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://git.videolan.org/git/x264.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/x264\n./configure --enable-shared --enable-static --disable-opencl\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/x2* /usr/lib64/pkgconfig "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#否则libav在configure时会提示ERROR:x264 not found")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("blockquote",[a("p",[s._v("使用git 的时候碰到git将unix换行符转换为windows换行符的问题，需要使用dos2unix命令将文件转换为unix格式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum install dos2unix\ndos2unix version.sh\ndos2unix config*\ndos2unix configure\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"_9-编译安装mod-av"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-编译安装mod-av"}},[s._v("#")]),s._v(" 9. 编译安装mod_av")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://download1.rpmfusion.org/free/el/updates/7/x86_64/x/x264-libs-0.148-24.20170521gitaaa9aa8.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://download1.rpmfusion.org/free/el/updates/7/x86_64/x/x264-devel-0.148-24.20170521gitaaa9aa8.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -hiv x264-libs-0.148-24.20170521gitaaa9aa8.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -hiv x264-devel-0.148-24.20170521gitaaa9aa8.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://libav.org/releases/libav-12.3.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf libav-12.3.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" libav-12.3/\n\n./configure --enable-pic --enable-shared  --enable-libx264 --enable-gpl --extra-libs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-ldl"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("                                                                                 \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libavcodec.pc    /usr/lib64/pkgconfig/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libavdevice.pc   /usr/lib64/pkgconfig/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libavfilter.pc   /usr/lib64/pkgconfig/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libavformat.pc   /usr/lib64/pkgconfig/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libavresample.pc /usr/lib64/pkgconfig/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libavutil.pc     /usr/lib64/pkgconfig/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/lib/pkgconfig/libswscale.pc    /usr/lib64/pkgconfig/\nldconfig  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#动态链接库管理命令，其目的为了让动态链接库为系统所共享")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("blockquote",[a("p",[s._v("需要修改源码解决错误：")]),s._v(" "),a("p",[s._v("libav编译时出错：\nlibavcodec/libx264.c: In function ‘X264_frame’:\nlibavcodec/libx264.c:246:9: error: ‘x264_bit_depth’ undeclared (first use in this function)\nif (x264_bit_depth > 8)\n^\nlibavcodec/libx264.c:246:9: note: each undeclared identifier is reported only once for each function it appears in\nlibavcodec/libx264.c: In function ‘X264_init_static’:\nlibavcodec/libx264.c:707:9: error: ‘x264_bit_depth’ undeclared (first use in this function)\nif (x264_bit_depth == 8)\nvim libavcodec/libx264.c")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" av_cold "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("X264_init_static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AVCodec "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("codec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x264_bit_depth "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X264_BIT_DEPTH "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        codec"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("pix_fmts "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pix_fmts_8bit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x264_bit_depth "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X264_BIT_DEPTH "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        codec"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("pix_fmts "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pix_fmts_9bit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x264_bit_depth "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X264_BIT_DEPTH "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        codec"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("pix_fmts "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pix_fmts_10bit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("另外还有一行使用了变量x264_bit_depth，也要替换成X264_BIT_DEPTH")]),s._v(" "),a("p",[s._v("遇到错误：undefined reference to x264_encoder_open")]),s._v(" "),a("p",[s._v("注释掉这行：")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//x4->enc = x264_encoder_open(&x4->params);")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"_10-编译安装mod-opus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-编译安装mod-opus"}},[s._v("#")]),s._v(" 10. 编译安装mod_opus")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("解决办法一： 安装依赖库"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("无效"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y opus-devel\n\n解决办法二：源码编译方式（无效）\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://archive.mozilla.org/pub/opus/opus-1.3.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf opus-1.3.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" opus-1.3.1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编译")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BUILD_LIBS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")]),s._v("}")]),s._v("/build_libs\n./configure --prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${BUILD_LIBS}")]),s._v(" --with-pic --enable-float-approx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n解决办法二：去掉\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src/freeswitch-1.10.3.-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" modules.conf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注释codecs/mod_opus")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"_11-别名设置-fs目录快捷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-别名设置-fs目录快捷"}},[s._v("#")]),s._v(" 11. 别名设置，fs目录快捷")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" .bash_profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fsc")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cd /usr/local/freeswitch/'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fss")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cd /usr/local/src/freeswitch-1.10.3.-release/'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# =前后不能有空格")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"freeswitch安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#freeswitch安装"}},[s._v("#")]),s._v(" freeswitch安装")]),s._v(" "),a("h3",{attrs:{id:"_1-下载freeswitch安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载freeswitch安装包"}},[s._v("#")]),s._v(" 1. 下载freeswitch安装包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd /usr/local/src/\nwget http://files.freeswitch.org/releases/freeswitch/freeswitch-1.10.3.-release.tar.bz2\ntar xvjf  freeswitch-1.10.3.-release.tar.bz2\ncd freeswitch-1.10.3.-release\n./rebootstrap.sh -j #不要执行这个，有可能出现异常\n./configure --enable-core-odbc-support  #如果读者不想使用mysql管理，只需要执行./configure即可\n./configure --enable-core-pgsql-support #postgres 直接连接\nmake\nmake install\n# freeswitch其默认的安装位置是/usr/local/freeswitch\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"_2-语言包安装-选择"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-语言包安装-选择"}},[s._v("#")]),s._v(" 2. 语言包安装(选择)")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" freeswitch-1.10.3.-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" cd-sounds-install\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" cd-moh-install\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-设置软链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-设置软链接"}},[s._v("#")]),s._v(" 3. 设置软链接")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sf /usr/local/freeswitch/bin/freeswitch /usr/local/bin/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sf /usr/local/freeswitch/bin/fs_cli /usr/local/bin/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"freeswitch使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#freeswitch使用"}},[s._v("#")]),s._v(" freeswitch使用")]),s._v(" "),a("h3",{attrs:{id:"_1-服务启动、停止"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-服务启动、停止"}},[s._v("#")]),s._v(" 1. 服务启动、停止")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动FreeSWITCH")]),s._v("\nfreeswitch -nc -nonat\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入客户端命令")]),s._v("\nfs_cli\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出fs_cli")]),s._v("\n/quit\n/bye\n/exit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出FreeSWITCH")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_2-启动错误处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动错误处理"}},[s._v("#")]),s._v(" 2.启动错误处理")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("修改变量")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220129123820.png",alt:""}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/freeswitch/conf/sip_profiles\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" external.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" internal.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" external-ipv6.xml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" internal-ipv6.xml\n\n:%s/rtp-timeout-sec/media_timeout/g\n:%s/rtp-hold-timeout-sec/media_hold_timeout/g\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("mod_signalwire,mod_av模块配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220129124516.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220129124702.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v('如果共享库文件安装到了/usr/local/lib(很多开源的共享库都会安装到该目录下)或其它"非/lib或/usr/lib"目录下, 那么在执行ldconfig命令前, 还要把新共享库目录加入到共享库配置文件/etc/ld.so.conf中, 如下:')]),s._v(" "),a("p",[s._v("# cat /etc/ld.so.conf")]),s._v(" "),a("p",[s._v("include ld.so.conf.d/*.conf")]),s._v(" "),a("p",[s._v('# echo "/usr/local/lib" >> /etc/ld.so.conf')]),s._v(" "),a("p",[s._v("# ldconfig")])])]),s._v(" "),a("li",[a("p",[s._v("mod_opus 模块配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220129124702.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("没解决")])])])]),s._v(" "),a("h3",{attrs:{id:"_3-服务器配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-服务器配置"}},[s._v("#")]),s._v(" 3. 服务器配置")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("修改event_socket配置，使之能够建立远端ESL链接。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/autoload_configs/event_socket.conf.xml\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 默认的监听地址配置\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("param "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"listen-ip"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1"')]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 修改为本地监听地址\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("param "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"listen-ip"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.18.1.112"')]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". reload mod_event_socket\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(". 执行fs_cli -H "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".210.10\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Java api 连接报错")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WARNING"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" mod_event_socket.c:2641 IP "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.18")]),s._v(".1.112 Rejected by acl "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"loopback.auto"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/autoload_configs/event_socket.conf.xml\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 默认的acl配置\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("param "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"apply-inbound-acl"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"loopback.auto"')]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 修改acl\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("param "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"apply-inbound-acl"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lan"')]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". reload mod_event_socket\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(". 运行程序\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改密码 改掉默认密码1234 ，改成 2345 解决拨号延迟10秒")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /usr/local/freeswitch/conf/vars.xml\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# <X-PRE-PROCESS cmd="set" data="default_password=1234"/>')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("动态生效：reloadxml 或 F6 使配置生效")])])]),s._v(" "),a("li",[a("p",[s._v("日志切换")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("console loglevel "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  — "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n\n/log debug\ndebug,info,notice,warning,err,crit,alert：7个级别\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("外呼拨测")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("originate user/1000 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#回音")]),s._v("\noriginate user/1000 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("park  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#挂起无音")]),s._v("\noriginate user/1000 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("hold  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#moh挂起并播放保持音乐")]),s._v("\noriginate user/1004 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("playback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/home/dongjb/app/freeswitch/fusionpbx/FSGui-master/rings/common/1.wav"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#播放特定音乐文件")]),s._v("\noriginate user/1004 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("bridge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user/1234"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#先拨通一个ua，然后再桥接另外一个ua")]),s._v("\n\n先呼叫保持，然后桥接\noriginate user/1004 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("park\noriginate user/1234 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("park\nshow channels\nuuid_bridge c024ee06-7423-11ec-bbcc-0f8a49b1bbc8 4b3915a0-743b-11ec-bcd1-0f8a49b1bbc8\n\n\noriginate user/1000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v("\noriginate user/1000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(" XML default\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("sip电话拨测")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# zoiper配置")]),s._v("\ndomain "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("133.224")]),s._v(".219.201:5060\nusername "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" —1019\nPassword "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v("\n\n\nZoiper 电话互相拨测\nZoiper 拨测铃声号码 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9198")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("显示多少用户已注册")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("sofia status profile internal reg "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\nsofia status profile internal reg\n\nsofia status profile external reg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("静态增加用户")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/freeswitch/conf/directory/default\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(".xml "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v(".xml \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1234")]),s._v(".xml "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1000 全部改成1234")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220129164614.png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/freeswitch/conf/dialplan\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" default.xml "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#路由中增加对1234的处理")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220129164923.png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("订阅事件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("/event plain ALL  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#订阅全部事件")]),s._v("\n/event plain CHANNEL_ANSWER\n/event plain CUSTOM sofia::register\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Freeswitch 用作软电话")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src/freeswitch-1.10.3.-release  \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" modules.conf "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#放开注释 endpoints/mod_portaudio")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编译")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" mod_portaudio\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" mod_portaudio-install\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#控制台载入")]),s._v("\nload mod_portaudio\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出了所有的声音设备")]),s._v("\npa devlist\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Ensoniq AudioPCI: ES1371 DAC2/ADC "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hw:0,0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("r,i\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("Ensoniq AudioPCI: ES1371 DAC1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hw:0,1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("sysdefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("o\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("front"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("dmix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定输入，输出设备")]),s._v("\npa indev "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#0")]),s._v("\npa outdev "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用命令行控制的软电话")]),s._v("\n\nfreeswitch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" pa looptest       （回路测试，echo）\nfreeswitch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" pa call "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9196")]),s._v("      （呼叫9196）\nfreeswitch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" pa call "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("      （呼叫1000）\nfreeswitch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" pa hangup         （挂机）\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看系统变量")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看命令 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${local_ip_v4}")]),s._v("\nglobal_getvar sound_prefix\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置变量")]),s._v("\nglobal_setvar sound_prefix\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#常见系统变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v("\nlocal_ip_v4\nlocal_mask_v4\nlocal_ip_v6\nswitch_serial\nbase_dir\nrecordings_dir\nsound_prefix\nsounds_dir\nconf_dir\nlog_dir\nrun_dir\ndb_dir\nmod_dir\nhtdocs_dir\nscript_dir\ntemp_dir\ngrammar_dir\ncerts_dir\nstorage_dir\ncache_dir\ncore_uuid\nzrtp_enabled\nnat_public_addr\nnat_private_addr\nnat_type\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])])])])])}),[],!1,null,null,null);a.default=t.exports}}]);