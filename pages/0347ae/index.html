<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FS-Cli常用命令简介 | 董建斌的博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/home.jpeg">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.b0cf3990.css" as="style"><link rel="preload" href="/assets/js/app.6d4d842b.js" as="script"><link rel="preload" href="/assets/js/2.0fd9f73a.js" as="script"><link rel="preload" href="/assets/js/11.7f6a0939.js" as="script"><link rel="prefetch" href="/assets/js/10.30079daa.js"><link rel="prefetch" href="/assets/js/12.ed5435d3.js"><link rel="prefetch" href="/assets/js/13.25b8826c.js"><link rel="prefetch" href="/assets/js/14.76f97bc8.js"><link rel="prefetch" href="/assets/js/15.fbc57fc3.js"><link rel="prefetch" href="/assets/js/16.00f2abfa.js"><link rel="prefetch" href="/assets/js/17.bc136f60.js"><link rel="prefetch" href="/assets/js/18.4d03df41.js"><link rel="prefetch" href="/assets/js/19.479cc21a.js"><link rel="prefetch" href="/assets/js/20.7e179576.js"><link rel="prefetch" href="/assets/js/21.240900bb.js"><link rel="prefetch" href="/assets/js/22.760ddcdd.js"><link rel="prefetch" href="/assets/js/23.0eab3370.js"><link rel="prefetch" href="/assets/js/24.588b162f.js"><link rel="prefetch" href="/assets/js/25.1c0ee689.js"><link rel="prefetch" href="/assets/js/26.85709468.js"><link rel="prefetch" href="/assets/js/27.b7099b40.js"><link rel="prefetch" href="/assets/js/28.c35924d3.js"><link rel="prefetch" href="/assets/js/29.8cafffa8.js"><link rel="prefetch" href="/assets/js/3.deaca20e.js"><link rel="prefetch" href="/assets/js/30.575b6478.js"><link rel="prefetch" href="/assets/js/31.e17b3314.js"><link rel="prefetch" href="/assets/js/32.05421eeb.js"><link rel="prefetch" href="/assets/js/33.d17be6c8.js"><link rel="prefetch" href="/assets/js/34.bdacecf3.js"><link rel="prefetch" href="/assets/js/35.2cdfbdfe.js"><link rel="prefetch" href="/assets/js/4.c0dbb0eb.js"><link rel="prefetch" href="/assets/js/5.41b1224c.js"><link rel="prefetch" href="/assets/js/6.e5641358.js"><link rel="prefetch" href="/assets/js/7.f95c6863.js"><link rel="prefetch" href="/assets/js/8.079a2b3f.js"><link rel="prefetch" href="/assets/js/9.34e7a5b8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b0cf3990.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/img/home.jpeg" alt="董建斌的博客" class="logo"> <span class="site-name can-hide">董建斌的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FreeSwitch" class="dropdown-title"><a href="/web/" class="link-title">FreeSwitch</a> <span class="title" style="display:none;">FreeSwitch</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安装使用</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a61298/" class="nav-link">FS安装使用</a></li></ul></li><li class="dropdown-item"><h4>呼叫中心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/c3da99/" class="nav-link">项目架构</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识图谱" class="dropdown-title"><a href="/KnowledgeGraph/" class="link-title">知识图谱</a> <span class="title" style="display:none;">知识图谱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ec61c3/" class="nav-link">neo4j</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/project/" class="link-title">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3ceacd/" class="nav-link">超级工作流</a></li><li class="dropdown-item"><!----> <a href="/pages/601d2d/" class="nav-link">kafka2db</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><a href="/pages/2c361a/" class="link-title">大数据</a> <span class="title" style="display:none;">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/81241e/" class="nav-link">hadoop入门</a></li></ul></div></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/dong-jianbin/docment" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/img/22168884.jpeg"> <div class="blogger-info"><h3>董建斌</h3> <span>此间少年 气吞山河</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FreeSwitch" class="dropdown-title"><a href="/web/" class="link-title">FreeSwitch</a> <span class="title" style="display:none;">FreeSwitch</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安装使用</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a61298/" class="nav-link">FS安装使用</a></li></ul></li><li class="dropdown-item"><h4>呼叫中心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/c3da99/" class="nav-link">项目架构</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识图谱" class="dropdown-title"><a href="/KnowledgeGraph/" class="link-title">知识图谱</a> <span class="title" style="display:none;">知识图谱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ec61c3/" class="nav-link">neo4j</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/project/" class="link-title">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3ceacd/" class="nav-link">超级工作流</a></li><li class="dropdown-item"><!----> <a href="/pages/601d2d/" class="nav-link">kafka2db</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><a href="/pages/2c361a/" class="link-title">大数据</a> <span class="title" style="display:none;">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/81241e/" class="nav-link">hadoop入门</a></li></ul></div></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/dong-jianbin/docment" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a61298/" class="sidebar-link">安装使用freeswitch</a></li><li><a href="/pages/03eecb/" class="sidebar-link">freeswitch连接postgres数据库</a></li><li><a href="/pages/0347ae/" aria-current="page" class="active sidebar-link">FS-Cli常用命令简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/9a183b/" class="sidebar-link">FreeSWITCH 添加中文语音包</a></li><li><a href="/pages/eb44b0/" class="sidebar-link">配置国内yum源和epel源</a></li><li><a href="/pages/38b644/" class="sidebar-link">Linux安装postgresql</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>呼叫中心</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/web/#freeswitch" data-v-06225672>freeswitch</a></li><li data-v-06225672><a href="/web/#服务端" data-v-06225672>服务端</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/dong-jianbin/" target="_blank" title="作者" class="beLink" data-v-06225672>dong-jianbin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-01-31</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">FS-Cli常用命令简介<!----></h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h3 id="连接操作"><a href="#连接操作" class="header-anchor">#</a> 连接操作</h3> <p>fs_cli是FreeSWITCH的一个客户端连接程序，可以方便地查看运行情况，并对其进行控制。若在本机使用默认配置，可直接启动fs_cli；否则需要携带参数（以连接运行在192.168.210.10上的FreeSWITCH为例）(失败不能连接)</p> <ul><li><p>启动一个命令行窗口，通过help可以查看操作命令</p> <p><code>fs_cli -H 192.168.210.10 -P 8021 -p ClueCon</code></p></li> <li><p>fs_cli也可执行一条指定的命令（如获取版本信息）</p> <p><code>fs_cli -H 192.168.210.10 -P 8021 -p ClueCon -x &quot;version&quot;</code></p></li></ul> <blockquote><p>注意：listen-ip 修改成 0.0.0.0，重启FreeSWITCH，指定ip就可以连接成功了</p> <p>cd /usr/local/freeswitch/conf/autoload_configs</p> <p>vi event_socket.conf.xml</p> <p><img src="https://cdn.jsdelivr.net/gh/dong-jianbin/drawing-bed/mall/20220131080620.png" alt=""></p></blockquote> <h3 id="退出操作"><a href="#退出操作" class="header-anchor">#</a> 退出操作</h3> <p>退出fs_cli（保持FreeSWITCH运行）</p> <ul><li>/quit</li> <li>/bye</li> <li>/exit</li> <li>...：三个点，若在‘Console窗口‘中为退出FreeSWITCH</li> <li>Linux可通过ctrl+D快捷键</li> <li>shutdown 退出FreeSWITCH：</li></ul> <h3 id="日志与显示操作"><a href="#日志与显示操作" class="header-anchor">#</a> 日志与显示操作</h3> <p>设定显示日志级别</p> <ul><li>通过console loglevel设定显示级别（fs_cli和‘Console窗口‘中都可以）
<ul><li>debug,info,notice,warning,err,crit,alert：7个级别</li> <li>1~7： 对应上面7个级别（7为debug，1为alert）</li> <li>0：关闭所有输出（console loglevel 0）</li></ul></li> <li>fsctl loglevel <level>：设定指定日志级别</level></li> <li>/log：默认为debug或指定的级别（与loglevel相同）</li> <li>/nolog：关闭日志</li> <li>sofia profile internal siptrace on/off：开启或关闭SIP消息跟踪功能</li></ul> <h3 id="全局变量"><a href="#全局变量" class="header-anchor">#</a> 全局变量</h3> <ul><li>全局变量
<ul><li>global_getvar [<varname>]：获取全局变量</varname></li> <li>global_setvar <varname>=<value>：设定全局变量</value></varname></li></ul></li> <li>查看：eval ${val-name}</li></ul> <p><em>global_getvar domain</em></p> <p><em>eval ${domain}</em></p> <p>global_setvar sound_prefix = /usr/local/freeswitch/sounds/zh/cn/anon</p> <p>global_getvar sound_prefix</p> <action application="set" data="sound_prefix=$${sounds_dir}/zh/cn/anon/ivr/8000"></action> <h3 id="fsctl-发送控制信息"><a href="#fsctl-发送控制信息" class="header-anchor">#</a> fsctl：发送控制信息</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>fsctl <span class="token punctuation">[</span>send_sighup <span class="token operator">|</span>
		hupall <span class="token operator">|</span>

    pause <span class="token punctuation">[</span>inbound<span class="token operator">|</span>outbound<span class="token punctuation">]</span> <span class="token operator">|</span>

    resume <span class="token punctuation">[</span>inbound<span class="token operator">|</span>outbound<span class="token punctuation">]</span> <span class="token operator">|</span>

    <span class="token function">shutdown</span> <span class="token punctuation">[</span>cancel<span class="token operator">|</span>elegant<span class="token operator">|</span>asap<span class="token operator">|</span>restart<span class="token punctuation">]</span> <span class="token operator">|</span>

    last_sps <span class="token operator">|</span>

    sps <span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">|</span>

    sync_clock <span class="token operator">|</span>

    sync_clock_when_idle <span class="token operator">|</span>

    reclaim_mem <span class="token operator">|</span>

    max_sessions <span class="token operator">|</span>

    min_dtmf_duration <span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">|</span>

    max_dtmf_duration <span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">|</span>

    default_dtmf_duration <span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">|</span>

    loglevel <span class="token punctuation">[</span>level<span class="token punctuation">]</span> <span class="token operator">|</span>

    verbose_events <span class="token punctuation">[</span>on<span class="token operator">|</span>off<span class="token punctuation">]</span>

   <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ul><li>fsctl debug_level [level]：设定日志记录级别（影响日志记录、console输出等）
<ul><li>0 - fatal errors, panic</li> <li>1 - critical errors, minimal progress at subsystem level</li> <li>2 - non-critical errors</li> <li>3 - warnings, progress messages</li> <li>5 - signaling protocol actions (incoming packets, ...)</li> <li>7 - media protocol actions (incoming packets, ...)</li> <li>9 - entering/exiting functions, very verbatim progress</li></ul></li> <li>fsctl hupall &lt;clearing_type&gt; dialed_ext <extension>：关闭所有指定呼叫，如：fsctl hupall normal_clearing dialed_ext 1000</extension></li> <li>fsctl <strong>shutdown</strong> [asap|asap restart|cancel|elegant|now|restart|restart asap|restart elegant]
<ul><li>cancel - discontinue a previous shutdown request.</li> <li>elegant - wait for all traffic to stop, while allowing new traffic</li> <li>asap - wait for all traffic to stop, but deny new traffic</li> <li>now - shutdown FreeSWITCH immediately</li> <li>restart - restart FreeSWITCH immediately following the shutdown</li></ul></li></ul> <h3 id="通话相关命令简介"><a href="#通话相关命令简介" class="header-anchor">#</a> 通话相关命令简介</h3> <ul><li>查看注册用户
<ul><li>sofia status/xmlstatus profile internal reg [1006]</li> <li>show registrations</li></ul></li> <li>删除注册用户：sofia profile internal flush_inbound_reg &lt;用户id&gt;</li> <li>查看通话通道：show channels [like 1006@] as xml</li> <li>呼叫（1.6版本下，要带absolute_codec_string='PCMA'，否则可能是视频呼叫，然后编码失败）
<ul><li>originate user/1011 &amp;bridge(user/1013)</li> <li>originate user/1006 &amp;bridge(sofia/external/5001@192.168.6.90)</li> <li>originate user/1011 &amp;playback(rec1011.wav)</li> <li>originate user/1012 &amp;conference(3001)</li> <li>originate user/1011 &amp;echo</li></ul></li> <li>关闭所有指定呼叫：hupall <cause> [<variable><value>]
<ul><li>hupall normal_clearing foo bar：关闭所有通道变量foo=bar的channel</li></ul></value></variable></cause></li> <li>加入会议
<ul><li>conference 3001 dial {absolute_codec_string='PCMA@20i'}user/1013</li> <li>conference 3001 dial sofia/external/5001@192.168.6.90</li> <li>列出所有会议：conference list</li></ul></li> <li>呼叫中心
<ul><li>查看Agent：callcenter_config agent list</li> <li>查看队列：callcenter_config queue list</li></ul></li> <li>顺振：originate user/1006 &amp;bridge(user/1011|user/1012)</li> <li>同振：originate user/1006 &amp;bridge(user/1011,user/1012)</li> <li>添加通道变量：originate {origination_caller_id_number=8888,ignore_early_media=true,xugd-wavfile=notice.wav,absolute_codec_string=PCMA}user/1018 &amp;lua(voiceNotify.lua)</li> <li>重新加载配置
<ul><li>reloadxml：重新一般配置修改（拨号计划、用户等）</li> <li>网关（重启）：sofia profile external restart</li> <li>只重新加载修改的网关（gwt）：
<ul><li>sofia profile external killgw gwt</li> <li>sofia profile external rescan</li></ul></li> <li>reload &lt;mod_name&gt;：重新加载模块</li> <li>reloadacl：重新加载ACL</li></ul></li> <li><a href="https://so.csdn.net/so/search?q=uuid&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">uuid<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>一族（以uuid开始的）
<ul><li>uuid_answer <uuid>：接听</uuid></li> <li>uuid_kill <uuid> [cause]：挂机</uuid></li> <li>uuid_bridge <uuid> &lt;other_uuid&gt;：桥接通道</uuid></li> <li>uuid_transfer <uuid> [-bleg|-both] <dest-exten> [<dialplan>] [<context>]：转移电话</context></dialplan></dest-exten></uuid></li> <li>uuid_break <uuid> [all]：停止媒体发送</uuid></li> <li>uuid_broadcast <uuid><path> [aleg|bleg|both]：播放媒体</path></uuid></li> <li>uuid_deflect <uuid><sip URL="">：转移通话</sip></uuid></li> <li>uuid_displace <uuid> [start|stop] <file> [<limit>] [mux]：替换媒体（Displace the audio for the target with the specified audio）</limit></file></uuid></li> <li>uuid_record <uuid> [start|stop|mask|unmask] <path> [<limit>]：录音，Where limit is the max number of seconds to record</limit></path></uuid></li> <li>uuid_getvar <uuid><varname>：获取通道上变量</varname></uuid></li> <li>uuid_setvar <uuid><varname> [value]：设定通道变量</varname></uuid></li></ul></li></ul> <h3 id="show-显示信息"><a href="#show-显示信息" class="header-anchor">#</a> show：显示信息</h3> <p>show [</p> <p>aliases |</p> <p>api |</p> <p>application |</p> <p>bridged_calls |</p> <p>calls [count] |</p> <p>channels [count|like <match string="">] |</match></p> <p>chat |</p> <p>codec |</p> <p>complete |</p> <p>detailed_bridged_calls |</p> <p>detailed_calls |</p> <p>dialplan |</p> <p>endpoint |</p> <p>file |</p> <p>interface_types |</p> <p>interfaces |</p> <p>limits</p> <p>management |</p> <p>modules |</p> <p>nat_map |</p> <p>registrations |</p> <p>say |</p> <p>tasks |</p> <p>timer |</p> <p>] [as xml|as delim <delimiter>]</delimiter></p> <ul><li>aliases – list defined command aliases</li> <li>api – list api commands exposed by loadable modules</li> <li>application – list applications exposed by loadable modules, notably mod_dptools</li> <li>calls [count] – list details of currently active calls; the keyword &quot;count&quot; eliminates the details and only prints the total count of calls</li> <li>channels [count|like <match string="">] – list current channels; see Channels vs Calls
<ul><li>count – show only the count of active channels, no details</li> <li>like <match string=""> – filter results to include only channels that contain <match string=""> in uuid, channel name, cid_number, cid_name, presence data fields.</match></match></li></ul></match></li> <li>chat – list chat interfaces</li> <li>codec – list codecs that are currently loaded in FreeSWITCH</li> <li>complete – list command argument completion tables</li> <li>detailed_bridged_calls – same as &quot;show detailed_calls&quot;</li> <li>detailed_calls – like &quot;show calls&quot; but with more fields</li> <li>dialplan – list dialplan interfaces</li> <li>endpoint – list endpoint interfaces currently available to FS</li> <li>file – list supported file format interfaces</li> <li>interface_types – list all interface types with a summary count of each type of interface available</li> <li>interfaces – enumerate all available interfaces by type, showing the module which exposes each interface</li> <li>limits – list database limit interfaces</li> <li>management – list management interfaces</li> <li>module – enumerate modules and the path to each</li> <li>nat_map – list Network Address Translation map</li> <li>registrations – enumerate user extension registrations</li> <li>say – enumerate available TTS (text-to-speech) interface modules with language supported</li> <li>tasks – list FS tasks</li> <li>timer – list timer modules</li></ul></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/dong-jianbin/docment/edit/master/docs/01.freeswitch/25.服务端/02.FS-Cli常用命令简介.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/07/26, 06:11:07</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/03eecb/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">freeswitch连接postgres数据库</div></a> <a href="/pages/9a183b/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">FreeSWITCH 添加中文语音包</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/03eecb/" class="prev">freeswitch连接postgres数据库</a></span> <span class="next"><a href="/pages/9a183b/">FreeSWITCH 添加中文语音包</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/866652/"><div>
            HDFS
            <!----></div></a> <span class="date">05-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/81241e/"><div>
            入门
            <!----></div></a> <span class="date">05-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/8ffda2/"><div>
            devops
            <!----></div></a> <span class="date">05-07</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:416355221@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/dong-jianbin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>Dong jianbin | <a href="https://github.com/dong-jianbin/docment/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.6d4d842b.js" defer></script><script src="/assets/js/2.0fd9f73a.js" defer></script><script src="/assets/js/11.7f6a0939.js" defer></script>
  </body>
</html>
